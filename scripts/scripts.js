document.querySelectorAll(".overlay").forEach(card=>{card.addEventListener("click",()=>{const url=card.dataset.link;window.location.href=url})});document.querySelectorAll(".copy-btn").forEach(btn=>{btn.addEventListener("click",async()=>{const email=btn.dataset.email;try{await navigator.clipboard.writeText(email);btn.classList.add("copied");setTimeout(()=>btn.classList.remove("copied"),1200)}catch(err){console.error("Copy failed",err)}})});const timeline=document.querySelector('.timeline');const timelineFill=document.querySelector('.timeline-fill');const timelineDate=document.querySelector('.timeline-date');const cards=document.querySelectorAll('.card');let activeDate=null;const section=document.querySelector('.portfolio-container');window.addEventListener('scroll',()=>{const rect=section.getBoundingClientRect();const firstCard=cards[0];const cardRect=firstCard.getBoundingClientRect();if(cardRect.top<window.innerHeight&&cardRect.bottom>-300){timeline.classList.remove('visible')}else{timeline.classList.add('visible')}
const sectionTop=rect.top+window.scrollY;const sectionHeight=section.offsetHeight;const scrollTop=window.scrollY;const rawProgress=(scrollTop-sectionTop)/(sectionHeight-window.innerHeight);const progress=Math.min(Math.max(rawProgress,0),1)*100;timelineFill.style.height=progress+'%';let currentDate=cards[0].dataset.date;cards.forEach(card=>{const rect=card.getBoundingClientRect();if(rect.top<window.innerHeight/2){currentDate=card.dataset.date}});if(currentDate!==activeDate){activeDate=currentDate;timelineDate.style.opacity=0;timelineDate.style.transform='translateY(-10px)';setTimeout(()=>{timelineDate.textContent=currentDate;timelineDate.style.opacity=1;timelineDate.style.transform='translateY(0)'},150)}})